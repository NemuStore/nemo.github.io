# إصلاح المستخدمين المفقودين

## المشكلة
هناك مستخدمين مسجلين دخول في Supabase Auth لكنهم غير موجودين في جدول `users`.

## الحل

### الخطوة 1: فتح SQL Editor
1. اذهب إلى: https://supabase.com/dashboard/project/fdxxynnsxgiozaiiexlm/sql/new
2. اضغط على **New query**

### الخطوة 2: نسخ الكود
1. افتح ملف `supabase/fix_missing_users.sql`
2. انسخ **كل** المحتوى
3. الصق في SQL Editor

### الخطوة 3: تشغيل الكود
1. اضغط **Run** أو (Ctrl+Enter)
2. يجب أن ترى قائمة بالمستخدمين الذين تم إضافتهم

## ما يفعله الكود

1. ✅ يبحث عن جميع المستخدمين في `auth.users`
2. ✅ يتحقق من وجودهم في `public.users`
3. ✅ يضيف المستخدمين المفقودين تلقائياً
4. ✅ يعطيهم دور "customer" (مستخدم) افتراضي
5. ✅ يعرض النتائج

## بعد التشغيل

- جميع المستخدمين المسجلين دخول سيظهرون في جدول `users`
- كلهم سيكون لديهم دور "customer" افتراضي
- يمكن للمدير تغيير الأدوار من لوحة الإدارة

## ملاحظة

هذا الكود آمن ويمكن تشغيله عدة مرات - لن يضيف المستخدمين الموجودين بالفعل.

